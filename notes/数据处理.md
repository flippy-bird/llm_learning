## 大模型的数据处理

### 微调

#### 1. 数据蒸馏

> ####  [上财开源首个金融领域R1类推理大模型，7B模型媲美DeepSeek-R1 671B满血版性能](https://www.zhihu.com/collection/979666979)

- 使用deepseek-r1 针对行业内的数据进行蒸馏，大概筛选了60k数据
- 具体过程，1. 使用deepseek-R1蒸馏得到蒸馏数据，使用第三方大模型进行答案评估(这里使用的是Qwen-2.5-72B-Instruct)；2. 推理过程打分：使用第三方大模型进行推理过程的评估(这里使用的还是Qwen-2.5-72B-Instruct)，过程推理指标如下：
  - 内部一致性：检查推理过程中的步骤是否一致，并且是否能够逐步逻辑地推导出标准答案。
  - 术语重叠度：检查推理过程中使用的术语与标准答案中的术语的重叠程度。重叠度越高越好。
  - 推理步骤数量：评估推理过程是否包含足够的步骤（至少3步）。
  - 逻辑一致性：确保推理过程中的步骤与标准答案在逻辑上高度一致，并检查是否存在明显的错误或遗漏。
  - 内容多样性：检查推理过程中是否存在大量重复的步骤。
  - 与任务领域的相关性：检查推理过程是否涉及与任务领域相关的内容（任务领域：{task_domain}）。如果推理反映了与任务领域的相关性，则给予更高的评分。
  - 与任务指令的一致性：检查推理过程是否与任务指令高度相关。相关性越高越好。如果推理内容完全符合任务指令，则给予更高的评分。

我们将经过两轮筛选后均标注为good的数据作为高质量的 COT 数据用于 SFT ；**而未经过筛选标注为bad的数据则作为推理QA数据用于强化学习（RL）。**

#### 2. 数据配比

> [大模型SFT数据配比的一些实践启示](https://zhuanlan.zhihu.com/p/1944002824263407495)
